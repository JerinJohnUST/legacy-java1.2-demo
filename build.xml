<?xml version="1.0" encoding="UTF-8"?>
<project name="legacy-java-1.2-demo" default="test" basedir=".">


<property name="src.dir" value="src/main/java"/>
<property name="test.dir" value="src/test/java"/>
<property name="build.dir" value="build"/>
<property name="classes.dir" value="${build.dir}/classes"/>
<property name="test.classes.dir" value="${build.dir}/test-classes"/>


<path id="classpath">
<fileset dir="lib">
<include name="junit-3.8.1.jar"/>
</fileset>
</path>


<target name="clean">
<delete dir="${build.dir}"/>
</target>


<target name="compile">
<mkdir dir="${classes.dir}"/>
<javac srcdir="${src.dir}" destdir="${classes.dir}" source="1.2" target="1.2"/>
</target>


<target name="compile-tests" depends="compile">
<mkdir dir="${test.classes.dir}"/>
<javac srcdir="${test.dir}" destdir="${test.classes.dir}" classpathref="classpath"/>
</target>


<target name="test" depends="compile-tests">
<junit printsummary="yes">
<classpath>
<pathelement path="${classes.dir}"/>
<pathelement path="${test.classes.dir}"/>
<path refid="classpath"/>
</classpath>
<batchtest>
<fileset dir="${test.dir}">
<include name="**/*Test.java"/>
</fileset>
</batchtest>
</junit>
</target>


</project>
